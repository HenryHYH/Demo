@{
    Layout = null;

    Html.AddResource("~/Scripts/template.js");
    Html.AddResource("~/Scripts/jquery.table.js");
}
@using FW.Web.Framework.UI

<script id="tb-tmpl" type="text/html">
    <table class="table table-condensed table-striped table-bordered">
        <thead>
            <tr>
                {{each columns as col i}}
                <th>{{col.title}}</th>
                {{/each}}
            </tr>
        </thead>
        <tbody>
            {{each data as row i}}
            <tr>
                {{each row as cell j}}
                <td>{{cell}}</td>
                {{/each}}
            </tr>
            {{/each}}
        </tbody>
    </table>
    {{include 'pager-tmpl' pager}}
</script>
<script id="pager-tmpl" type="text/html">
    <nav>
        {{if TotalPages > 1 }}
        <ul class="pagination pagination-sm">
            <li class="{{PageIndex != 1 ? "" : "disabled"}}">
                <a href="#" aria-label="First" data-page="1">
                    <i class="fa fa-fast-backward"></i>
                </a>
            </li>
            <li class="{{HasPrevious ? "" : "disabled"}}">
                <a href="#" aria-label="Previous" data-page="{{PageIndex - 1}}">
                    <i class="fa fa-backward"></i>
                </a>
            </li>
            {{each Pages as page}}
            {{if page == PageIndex }}
            <li class="active"><span>{{page}}</span></li>
            {{else}}
            <li><a href="#" data-page="{{page}}">{{page}}</a></li>
            {{/if}}
            {{/each}}
            <li class="{{HasNext ? "" : "disabled"}}">
                <a href="#" aria-label="Next" data-page="{{PageIndex + 1}}">
                    <i class="fa fa-forward"></i>
                </a>
            </li>
            <li class="{{PageIndex != TotalPages ? "" : "disabled"}}">
                <a href="#" aria-label="Last" data-page="{{TotalPages}}">
                    <i class="fa fa-fast-forward"></i>
                </a>
            </li>
        </ul>
        {{/if}}
        <ul class="pagination pagination-sm">
            <li>
                <span class="label label-info">
                    {{(PageIndex - 1) * PageSize + 1}} - {{PageIndex * PageSize > TotalRecords ? TotalRecords : PageIndex * PageSize}}&nbsp;of&nbsp;{{TotalRecords}}
                </span>
            </li>
        </ul>
        <div class="pull-right">
            <form class="form-inline">
                <div class="form-group">
                    <select class="form-control input-sm page-size" id="page-size">
                        <option value="20">20</option>
                        <option value="3">3</option>
                        <option value="5">5</option>
                        <option value="50">50</option>
                        <option value="1000">1000</option>
                    </select>
                    <label class="control-label" for="page-size">items per row</label>
                </div>
            </form>
        </div>
    </nav>
</script>